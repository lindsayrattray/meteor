<template name="classroom">
	<div class="row">
		<div class="small-10 small-centered columns">
			<a id="btn-remove-user-from-room" class="alert button expand" name="btn-remove-user-from-room">Leave classroom</a>

			#if thisUserHasRole 'teacher'}}
			<a class="alert activity-leave button expand" name="btn-leave-activity">Exit Activity</a>

			<div class="component-selector-nav text-center button-bar">
				<ul class="button-group radius">
					{{#each components}}
						<li><a class="component-selector button secondary">{{this.title}}</a></li>
					{{/each}}
				</ul>
			</div>
			/if}}

			
		</div>
	</div>
	<div class="row">
		<div class="small-10 small-centered columns hide-overflow no-horz-padding">
			<div class="activity-viewport">
				<div class="small-6 columns">
					{{{activity}}}
				</div>

				<div class="small-6 columns">
					<ul class="small-block-grid-2">
						{{#isolate}}
							{{#each groups}}
								<li>
									<div class="small-10 small-centered columns group background-yellow">
										<p class="no-vert-margin">Group</p>
										<hr class="no-vert-margin">
										<div class="group-scrollable">
											<ul class="no-bullet">
												{{#each this.members}}
													<li>
														{{profileName this}} 
													
														{{#if isCurrentUserOrRole this 'teacher'}}
															{{#if groupHasMoreThanOneMember ../../this._id}}
																<a data-member="{{this}}" class="btn-remove-user-from-group button small right">Leave</a>
															{{/if}}
														{{/if}}
													</li>
												{{/each}}
											</ul>
										</div>
										{{#unless thisUserHasRole 'teacher'}}{{#unless userIsGroupMember this._id currentUserId}}<a class="btn-join-group button small expand">Join</a>{{/unless}}{{/unless}}
									</div>
								</li>
							{{/each}}
						{{/isolate}}
					</ul>
				</div>
			</div>
		</div>
	</div>

</template>